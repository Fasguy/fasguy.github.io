//Reddit Reader v1.0.1|GPLv3|Created by Fasguy
var s="r/Cats",x=!1;if("undefined"!=typeof XMLHttpRequest&&(x=new XMLHttpRequest),!x)try{x=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{x=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){x=null}}function h(){if(4==x.readyState)if(200<=x.status&&x.status<300){var e,t=JSON.parse(x.responseText).data.children,n=!1;for(0==t.length&&(x.open("GET","https://www.reddit.com/"+s+".json",!0),x.onreadystatechange=h,x.send(null));t[e=Math.floor(Math.random()*(t.length-1))].data.is_self||t[e].data.is_video||!t[e].data.is_reddit_media_domain?t.splice(e):n=!0,!n&&0<t.length;);n?(document.getElementById("post_img").src=t[e].data.url,document.getElementById("author").innerHTML="Posted by u/"+t[e].data.author,document.getElementById("reddit_link").href="https://reddit.com"+t[e].data.permalink):document.getElementById("author").innerHTML="There should be a cat here, but something went wrong :("}else document.getElementById("author").innerHTML="There should be a cat here, but something went wrong :(",console.warn(x.statusText,x.responseText)}window.onload=function(){x.open("GET","https://www.reddit.com/"+s+".json?jsonp=",!0),x.onreadystatechange=h,x.send(null)};